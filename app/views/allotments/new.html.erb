<% provide(:title, "New Allotment") %>
<main class="page-body">
  <div class="row d-flex justify-content-center">
    <div class="col-md-7">    
        <h2>Add New Allotment</h2>
        <%= form_for @allotment do |f| %>
          <%= render 'shared/error', object: f.object %>

          <div class="form-group mb-3">
            <%= f.label :user_id %>

            <div>
              <% @non_admins = User.where(admin: false) %>
              <%= f.collection_select(:user_id, @non_admins, :id, :name, include_blank: '--select user--', class: 'form-control') %>
            </div>
          </div>

          <div class="form-group mb-3">
            <%= f.label :item_id %>

            <div>
              <%= f.collection_select(:item_id, Item.all, :id, :item_display_name, include_blank: '--select item--', class: 'form-control') %>
            </div>
          </div>

          <div class="form-group mb-3">
            <%= f.label :allotment_quantity, "New Allotment quantity" %>
            <%= f.number_field :allotment_quantity, min: 0, max: 1000, class: 'form-control' %>
          </div>

          <%= f.submit "Allot Item to User" , class: "btn btn-primary" %>
        <% end %>
    
    </div>
  </div>
</main>