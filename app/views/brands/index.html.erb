<% provide(:title, "All Brands")%>

<main class="page-body">
<%= render "shared/flash"%>
<% if current_user.admin? %>
  <div class="d-flex justify-content-end">
<%= link_to "Add Brand", new_brand_path, class:"btn btn-primary" %>
</div>
<% end %>

  <h2>Brand List</h2>
  <div id="brands">
    <% if !@brands.empty? %>
      <table class="table table-striped table-hover table-bordered text-center">
        <thead class="table-dark">
          <tr>
            <th>Brand name</th>
            <th>Manufacturer</th>
            <th>Manufacturer Email</th>
            <th>Manufacturer Office</th>
            <% if current_user.admin? %>
              <th colspan="3"></th>
            <% else %>
              <th></th>
            <% end %>
          </tr>
        </thead>
        <tbody> 
          <% @brands.each do |brand| %>
              <tr>

                <td><%= brand.name %></td>
                <td><%= brand.manufacturer %></td>
                <td><%= brand.manufacturer_email %></td>
                <td><%= brand.manufacturer_office %></td>
                <td><%= link_to "Show", brand, class: "btn btn-primary" %></td> 
                <% if current_user.admin? %>            
                  <td><%= link_to "Edit", edit_brand_path(brand), class: "btn btn-info"%></td>
                  <td><%= link_to "Delete", brand, method: :delete, data: {confirm: "Are you sure?" }, class: "btn btn-danger" %></td>             
                <% end %>
              </tr> 
          <% end %>        
        </tbody>    
      </table> 
    <% else %>
      <p class="text-center">No brand found! <br/>
      Click 'Add Brand' button to add new Brand.</p>
    <% end %>
  </div>
</main>
 